<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 必须的CSS -->
    <link href="./CSS/system.css" rel="stylesheet" type="text/css">
    <link href="./CSS/guide-style.css" rel="stylesheet" type="text/css">
    <link href="./CSS/below.css" rel="stylesheet" type="text/css">
    <link href="./CSS/pictures.css" rel="stylesheet" type="text/css">
    <!-- 本页区域需要的css -->
    <link href="./CSS/main-news.css" rel="stylesheet" type="text/css">
    <link href="./CSS/main-news.css" rel="stylesheet" type="text/css">


    <link rel="stylesheet" href="./CSS/轮播图.css">
    <script src="./Script/feedback.js">
    </script>

    <title>Document</title>
</head>
<body>
    <!-- 导航栏部分↓ -->
    <div class="div-guide1-lv1">
        <div class="default-position-1 div-guide1-lv2">
            <a href="main-index.html" data-image-width="192" data-image-height="64" title="YuanMeng Game Club">
                <img src="./Pictures/Logo/Logo_384x128.png" class="img-center img-logo-main">
            </a>
            <ul class="div-guide1-menu">
                <li><a class="t1-zh text-guide1" href="main-about.html">关于我们</a></li>
                <li><a class="t1-zh text-guide1 guide-high-light">新闻栏目</a></li>
                <li><a class="t1-zh text-guide1" href="main-activity.html">社区活动</a></li>
                <li><a class="t1-zh text-guide1" onclick="Expect()">板块导航</a></li>
                <li><a class="t1-zh text-guide1" href="main-join.html">加入我们</a></li>
            </ul>
        </div>
    </div>

    <!-- 资讯图片部分 -->
    <div class="img-center div-main-news-main p-main-news-head">
        <div class="all" id="all">
            <div class="screen" id="screen">
                    <ul id="ul">
                        <li><img src="./Pictures/Content/main-news/3-1.png" width="1280px" height="360px" /></li>
                        <li><img src="./Pictures/Content/main-news/3-2.png" width="1280px" height="360px" /></li>
                        <li><img src="./Pictures/Content/main-news/3-3.png" width="1280px" height="360px" /></li>
                        <!-- <li><img src="./Pictures/test/微信图片_20221116202549.png" width="1280px" height="360px" /></li>
                        <li><img src="./Pictures/test/微信图片_20221116202554.png" width="1280px" height="360px" /></li> -->

                        <!-- 上限5张图片，具体要使用几张就放几张 -->

                    </ul>
                    <ol></ol>
                    <div id="arr">
                        <span id="left"><</span>
                        <span id="right">></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- 二级导航栏 -->
    <div class="div-main-news-menu-lv0">
        <div class="default-position-1 div-main-news-menu ">
            <ul class="text-fix1">
                <li><a class="t1-zh text-fix1">全部内容</a></li>
                <li><a class="t1-zh text-fix1">俱乐部资讯</a></li>
                <li><a class="t1-zh text-fix1">steam专区</a></li>
                <li><a class="t1-zh text-fix1">游戏资讯</a></li>
                <li><a class="t1-zh text-fix1">系统公告</a></li>
            </ul>
            <div class="div-main-news-menu-search">
                <input type="text" placeholder="请输入" >
                <b class="t1-zh text-fix1">搜索</b>
            </div>
        </div>
    </div>


    <!-- 最新资讯 -->
    <div class="div-main-newsarea-lv1">
        <div class="default-position-1 div-main-newsarea-lv2"><!-- 自适应中间 -->
            <p class="t1-zh text-fix1 main-news-h1">最新的内容</p>
            <!-- 大图区域 -->
            <div class="default-position-1 div-main-newsarea-lv3">
                <div class="div-main-newsarea-lv4 main-news-area1">
                    <div class="main-news-area-picture1 debug-div img-center p-main-news-1u">
                    </div>
                    <div class="main-news-area-word1">
                        <h1 class="t1-zh text-fix1">圆梦俱乐部今天建站了！</h1>
                        <h2 class="t1-zh text-fix1">焕然一新的界面，让我们一起来一探究竟吧！</h2>
                        <p class="t1-zh text-fix1">作者：Jason_Stephen</p>
                        <p class="t1-zh text-fix1">发布时间：2022.11.18</p>
                    </div>
                </div>
            </div>
            <div class="default-position-1 div-main-newsarea-lv3">
                <div class="div-main-newsarea-lv4-small main-news-area2 main-news-area2-left">
                    <div class="main-news-area-picture2 debug-div img-center p-main-news-21">
                    </div>
                    <div class="main-news-area-word2">
                        <h1 class="t1-zh text-fix1">Texas DLC 正式发布了！</h1>
                        <h2 class="t1-zh text-fix1">经过多年的准备、研究、地图设计、建模和工作，这一天...</h2>
                        <p class="t1-zh text-fix1">作者：SCS Software</p>
                        <p class="t1-zh text-fix1">发布时间：2022.11.15</p>
                    </div>
                </div>
                <div class="div-main-newsarea-lv4-small main-news-area2 main-news-area2-right">
                    <div class="main-news-area-picture2 debug-div img-center p-main-news-22">
                    </div>
                    <div class="main-news-area-word2">
                        <h1 class="t1-zh text-fix1">Roads & Vehicles Dev Diary</h1>
                        <h2 class="t1-zh text-fix1">Greetings mayors! I'm delighted to present our...</h2>
                        <p class="t1-zh text-fix1">作者：Paradox</p>
                        <p class="t1-zh text-fix1">发布时间：2022.11.15</p>
                    </div>
                </div>
            </div>
            <div class="default-position-1 div-main-newsarea-lv3">
                <div class="div-main-newsarea-lv4-small main-news-area2 main-news-area2-left">
                    <div class="main-news-area-picture2 debug-div img-center p-main-news-23">
                    </div>
                    <div class="main-news-area-word2">
                        <h1 class="t1-zh text-fix1">2024，圆梦车队，我们再会！</h1>
                        <h2 class="t1-zh text-fix1">一年前，我们相识，那一天我们分别，但相信总有一天...</h2>
                        <p class="t1-zh text-fix1">作者：Jason_Stephen</p>
                        <p class="t1-zh text-fix1">发布时间：2022.10.2</p>
                    </div>
                </div>
                <div class="div-main-newsarea-lv4-small main-news-area2 main-news-area2-right">
                    <div class="main-news-area-picture2 debug-div img-center p-main-news-24">
                    </div>
                    <div class="main-news-area-word2">
                        <h1 class="t1-zh text-fix1">重大更新:路标4.0介绍更新</h1>
                        <h2 class="t1-zh text-fix1">我们为大家带来了第21次免费的巨大更新，让我们一探究竟。</h2>
                        <p class="t1-zh text-fix1">作者：Hello Games</p>
                        <p class="t1-zh text-fix1">发布时间：2022.10.7</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 转页 -->

    <div class="main-news-page-lv1">
        <div class="default-position-1 main-news-page-lv2">
           <div class="default-position-1 main-news-page-lv3 ">
                <ul class="text-fix1">
                    <li><a class="t1-zh" href="">上一页</a></li>
                    <li><p class="text-fix1 t1-zh">当前页面1/2</p></li>
                    <li><a class="t1-zh" href="">下一页</a></li>
                </ul>
           </div>
        </div>
    </div>

    <!-- 底部内容 -->
    <footer class="default-position-1 div-below-lv1">
        <p class="default-position-1 t1-zh-nb text-below">Copyright ©2022 YuanMeng Game Simulation Club.</p>
        <p class="default-position-1 t1-zh-nb text-below">All Rights Reserved.</p>
        <p class="default-position-1 t1-zh-nb text-below">Designed by Jason</p>
    </footer>
</body>
</html>


<!-- 轮播图功能实现编码 -->
<script>
    var box=document.getElementById("all");
    var ul=box.children[0].children[0];
    var ol=box.children[0].children[1];
    var ulLiArr = ul.children;
    //2.补齐相互盒子
        //1.复制第一张图片所在的li，填入所在的ul中。
    var newLi = ulLiArr[0].cloneNode(true);
    ul.appendChild(newLi);
        //2.生成相关的ol中的li。
    for(var i=0;i<ulLiArr.length-1;i++)
    {
        var newOlLi = document.createElement("li");
        newOlLi.innerHTML = i+1;
        ol.appendChild(newOlLi);
    }

    //3.点亮第一个ol中的li。
    var olLiArr = ol.children;
    ol.children[0].className = "current";
    //3.鼠标放到小方块儿上，轮播图片。
    for(var i=0;i<olLiArr.length;i++)
    {
        olLiArr[i].index = i;
        olLiArr[i].onmouseover = function ()
        {
            for(var j=0;j<olLiArr.length;j++)
            {
                olLiArr[j].className = "";
            }
            olLiArr[this.index].className = "current";
            animate(ul,-this.index*ul.children[0].offsetWidth);
            key = square = this.index;
        }
    }
    //4.添加定时器。
    var timer = null;
    var key = 0;
    var square = 0;
    timer = setInterval(autoPlay,5000);


    function autoPlay()
    {
        key++;
        square++;
        if(key>olLiArr.length)
        {
            key=1;
            ul.style.left = 0;
        }
        animate(ul,-key*ul.children[0].offsetWidth);


        square = square>olLiArr.length-1?0:square;
        for(var j=0;j<olLiArr.length;j++)
        {
            olLiArr[j].className = "";
        }
        olLiArr[square].className = "current";
    }
    //5.鼠标移开开启定时器，鼠标放上去开启定时器。
    box.onmouseover = function ()
    {
        clearInterval(timer);
    }
    box.onmouseout = function ()
    {
        timer = setInterval(autoPlay,5000);
    }
    //6.左右切换的按钮。
    var btnArr = box.children[0].children[2].children;
    btnArr[0].onclick = function ()
    {
        key--;
        square--;
        if(key<0)
        {
            key=4;
            ul.style.left = -5*ul.children[0].offsetWidth + "px";
        }
        animate(ul,-key*ul.children[0].offsetWidth);


        square = square<0?olLiArr.length-1:square;
        for(var j=0;j<olLiArr.length;j++)
        {
            olLiArr[j].className = "";
        }
        olLiArr[square].className = "current";
    }
    btnArr[1].onclick = function ()
    {
        autoPlay();
    }

    //  基本封装
    function animate(obj,target)
    {
        clearInterval(obj.timer);
        var speed = obj.offsetLeft < target ? 15 : -15;
        obj.timer = setInterval(function()
        {
            var result = target - obj.offsetLeft;
            obj.style.left = obj.offsetLeft + speed  + "px";
            if(Math.abs(result) <= 15)
            {
                obj.style.left = target + "px";
                clearInterval(obj.timer);
            }
        },10);
    }
</script>